<!DOCTYPE html>
<html>
<head>
  <title>Simple 3D Cube</title>
  <style>
    body { margin: 0; overflow: hidden; }
    canvas { width: 100vw; height: 100vh; display: block; }
  </style>
</head>
<body>
<canvas id="glCanvas"></canvas>

<script src="https://cdn.jsdelivr.net/npm/three@0.150.1/build/three.min.js"></script>

<script>
  // Scene, camera, renderer
  const scene = new THREE.Scene();
  const camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
  const renderer = new THREE.WebGLRenderer({canvas: document.getElementById("glCanvas")});
  renderer.setSize(window.innerWidth, window.innerHeight);

  // Cube with 6 colored faces
  const geometry = new THREE.BoxGeometry();
  const materials = [
    new THREE.MeshBasicMaterial({color: 0xff0000}), // red
    new THREE.MeshBasicMaterial({color: 0x00ff00}), // green
    new THREE.MeshBasicMaterial({color: 0x0000ff}), // blue
    new THREE.MeshBasicMaterial({color: 0xffff00}), // yellow
    new THREE.MeshBasicMaterial({color: 0xff00ff}), // magenta
    new THREE.MeshBasicMaterial({color: 0x00ffff})  // cyan
  ];
  const cube = new THREE.Mesh(geometry, materials);
  scene.add(cube);

  camera.position.z = 3; // move camera back

  // Rotation variables
  let rotX = 0, rotY = 0;

  // Read phone orientation
  window.addEventListener("deviceorientation", (event) => {
    rotY = THREE.MathUtils.degToRad(event.gamma || 0); // left/right
    rotX = THREE.MathUtils.degToRad(event.beta || 0);  // forward/back
  });

  // Animate
  function animate() {
    requestAnimationFrame(animate);
    cube.rotation.x = rotX;
    cube.rotation.y = rotY;
    renderer.render(scene, camera);
  }
  animate();

  // Handle resize
  window.addEventListener("resize", () => {
    camera.aspect = window.innerWidth/window.innerHeight;
    camera.updateProjectionMatrix();
    renderer.setSize(window.innerWidth, window.innerHeight);
  });
</script>
</body>
</html>
